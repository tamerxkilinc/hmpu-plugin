function inquiryModalPageURLSettings(){const e=document.getElementById("hmpu_pageurl");if(!e)return void console.warn("hmpu-Plugin Error: Could not find the form input. Please make sure the form input is set and has the correct ID.");e.value=window.location.href;const t=document.getElementById("hmpu_header_cta");t?t.addEventListener("click",(function(){const e=document.getElementById("hmpu_pageurl");e?e.value=window.location.href:console.warn("hmpu-Plugin Error: Could not find the form input. Could not set header action button listener.")})):console.log("hmpu-Plugin Info: No header CTA button set.")}function inquiryModalActionButtonSettings(){if(!document.getElementById("hmpu_pageurl"))return void console.warn("hmpu-Plugin Error: Could not find the form input. Please make sure the form input is set and has the correct ID.");const e=document.querySelectorAll("[data-hmpuformcta]");if(0!==e.length)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){const e=document.getElementById("hmpu_pageurl");e?e.value="https://happy-mpu.de/mpu-vorbereitung/mpu-berater/"+this.getAttribute("data-hmpuformcta"):console.warn("hmpu-Plugin Error: Could not find the form input. Could not set action button CTA listeners.")}));else console.warn("hmpu-Plugin Error: Could not find any action buttons. Please make sure the action buttons are set and have the correct attribute.")}function renderConsultantTags(){const e=document.querySelectorAll(".hmpu-consultant-tag-container");e?e.forEach((e=>{const t=e.getAttribute("data-consultant-id");if(!t)return void console.warn("hmpu-Plugin Error: Could not find consultant ID. Please make sure the ID is set and has the correct attribute.");const n=new XMLHttpRequest,o=`https://happy-mpu.web.app/api/consultant/${t}/tags`;n.open("GET",o,!0),n.addEventListener("load",(()=>{if(200!==n.status)return void console.warn("hmpu-Plugin Error: Could not load consultant tags. Please make sure the ID is correct.");const{tags:t}=JSON.parse(n.responseText);let o="";t.forEach((e=>{o+=`<span class="hmpu-consultant-tag">${e.tag}<span class="Badge-Count">${e.count}</span></span>`})),e.innerHTML=`\n        <div class="hmpu-consultant-tag-container">\n            ${o}\n        </div>\n        `})),n.send()})):console.warn("hmpu-Plugin Error: Could not find any consultant tags. Please make sure the tags are set and have the correct class.")}function hmpuIframeSettings(){const e=document.getElementById("hmpu-plugin-iframe");e?window.addEventListener("message",(t=>{if(!t.data)return void console.warn("hmpu-Plugin Error: Message is not defined.");const n=t.data.type;n?"resize"===n&&(e.style.minHeight=`${t.data.data.height+50}px`):console.warn("hmpu-Plugin Error: Message type is not defined.")})):console.warn("hmpu-Plugin Error: Could not find the iframe. Please make sure the iframe is set and has the correct ID.")}function openModalByInquiryParam(){if("true"!==new URLSearchParams(window.location.search).get("inquiry"))return;const e=document.getElementsByClassName("popup-berater-service");if(0===e.length)return void console.log("hmpu-Plugin Error: Could not find any modals although inquiry param is set.");const t=e[0];t.style.display="flex",t.style.opacity=1}function openGlobalModalByInquiryParam(){if("true"!==new URLSearchParams(window.location.search).get("global-inquiry"))return;const e=document.getElementsByClassName("popup-global-service");if(0===e.length)return void console.log("hmpu-Plugin Error: Could not find the global modal although global-inquiry param is set.");const t=e[0];t.style.display="flex",t.style.opacity=1}document.addEventListener("DOMContentLoaded",(function(){hmpuIframeSettings(),renderConsultantTags(),inquiryModalPageURLSettings(),inquiryModalActionButtonSettings(),openModalByInquiryParam(),openGlobalModalByInquiryParam()}));
