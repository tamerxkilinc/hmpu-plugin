function inquiryModalPageURLSettings(){const t=document.getElementById("hmpu_pageurl");if(!t)return void console.warn("hmpu-Plugin Error: Could not find the form input. Please make sure the form input is set and has the correct ID.");t.value=window.location.href;const e=document.getElementById("hmpu_header_cta");e?e.addEventListener("click",(function(){const t=document.getElementById("hmpu_pageurl");t?t.value=window.location.href:console.warn("hmpu-Plugin Error: Could not find the form input. Could not set header action button listener.")})):console.log("hmpu-Plugin Info: No header CTA button set.")}function inquiryModalActionButtonSettings(){if(!document.getElementById("hmpu_pageurl"))return void console.warn("hmpu-Plugin Error: Could not find the form input. Please make sure the form input is set and has the correct ID.");const t=document.querySelectorAll("[data-hmpuformcta]");if(0!==t.length)for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){const t=document.getElementById("hmpu_pageurl");t?t.value="https://happy-mpu.de/mpu-vorbereitung/mpu-berater/"+this.getAttribute("data-hmpuformcta"):console.warn("hmpu-Plugin Error: Could not find the form input. Could not set action button CTA listeners.")}));else console.warn("hmpu-Plugin Error: Could not find any action buttons. Please make sure the action buttons are set and have the correct attribute.")}function renderConsultantTags(){const t=document.querySelectorAll(".hmpu-consultant-tag-container");t?t.forEach((t=>{const e=t.getAttribute("data-consultant-id");if(!e)return void console.warn("hmpu-Plugin Error: Could not find consultant ID. Please make sure the ID is set and has the correct attribute.");const n=new XMLHttpRequest,o=`https://happy-mpu.web.app/api/consultant/${e}/tags`;n.open("GET",o,!0),n.addEventListener("load",(()=>{if(200!==n.status)return void console.warn("hmpu-Plugin Error: Could not load consultant tags. Please make sure the ID is correct.");const{tags:e}=JSON.parse(n.responseText);let o="";e.forEach((t=>{o+=`<span class="hmpu-consultant-tag">${t.tag}<span class="Badge-Count">${t.count}</span></span>`})),t.innerHTML=`\n        <div class="hmpu-consultant-tag-container">\n            ${o}\n        </div>\n        `})),n.send()})):console.warn("hmpu-Plugin Error: Could not find any consultant tags. Please make sure the tags are set and have the correct class.")}function hmpuIframeSettings(){const t=document.getElementById("hmpu-plugin-iframe");t?window.addEventListener("message",(e=>{if(!e.data)return void console.warn("hmpu-Plugin Error: Message is not defined.");const n=e.data.type;n?"resize"===n&&(t.style.minHeight=`${e.data.data.height+50}px`):console.warn("hmpu-Plugin Error: Message type is not defined.")})):console.warn("hmpu-Plugin Error: Could not find the iframe. Please make sure the iframe is set and has the correct ID.")}function openModalByInquiryParam(){if("true"!==new URLSearchParams(window.location.search).get("inquiry"))return;const t=document.getElementsByClassName("popup-berater-service");if(0===t.length)return void console.log("hmpu-Plugin Error: Could not find any modals although inquiry param is set.");const e=t[0];e.style.display="flex",e.style.opacity=1}document.addEventListener("DOMContentLoaded",(function(){hmpuIframeSettings(),renderConsultantTags(),inquiryModalPageURLSettings(),inquiryModalActionButtonSettings(),openModalByInquiryParam()}));
